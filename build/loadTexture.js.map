{"version":3,"file":"loadTexture.js","sourceRoot":"","sources":["../src/loadTexture.ts"],"names":[],"mappings":"AAAA,OAAO,KAAK,MAAM,SAAS,CAAC;AAC5B,OAAO,EAAE,gBAAgB,EAAE,MAAM,4BAA4B,CAAC;AAC9D,OAAO,kBAAkB,MAAM,8BAA8B,CAAC;AAE9D,MAAM,UAAU,WAAW,CAAC,GAAG,EAAE,MAAM,EAAE,UAAU,EAAE,OAAO;IAC1D,MAAM,OAAO,GAAG,IAAI,KAAK,CAAC,OAAO,EAAE,CAAC;IACpC;IACE,aAAa;IACb,OAAO,IAAI,CAAC,IAAI,KAAK,UAAU;QAC/B,aAAa;QACb,CAAC,IAAI,CAAC,IAAI,KAAK,IAAI,IAAI,OAAO,IAAI,CAAC,IAAI,KAAK,QAAQ,CAAC,EACrD,CAAC;QACD,CAAC,KAAK,IAAI,EAAE;YACV,GAAG,GAAG,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC;YAC3B,aAAa;YACb,MAAM,KAAK,GAAG,MAAM,kBAAkB,CAAC,GAAG,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;YACvD,MAAM,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,MAAM,gBAAgB,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC;YAC/D,OAAO,CAAC,KAAK,GAAG,KAAK,CAAC;YACtB,OAAO,CAAC,WAAW,GAAG,IAAI,CAAC;YAC3B,OAAO,CAAC,eAAe,CAAC,GAAG,IAAI,CAAC,CAAC,kDAAkD;YACnF,OAAO,CAAC,SAAS,GAAG,SAAS,CAAC,CAAC,gCAAgC;YAE/D,IAAI,MAAM,KAAK,SAAS,EAAE,CAAC;gBACzB,OAAO,CAAC,IAAI,CAAC,YAAY,EAAE,OAAO,CAAC,CAAC;gBACpC,MAAM,CAAC,OAAO,CAAC,CAAC;YAClB,CAAC;QACH,CAAC,CAAC,EAAE,CAAC;IACP,CAAC;IAED,OAAO,OAAO,CAAC;AACjB,CAAC","sourcesContent":["import THREE from './Three';\r\nimport { loadTextureAsync } from './loaders/loadTextureAsync';\r\nimport parseAssetCallback from './loaders/parseAssetCallback';\r\n\r\nexport function loadTexture(url, onLoad, onProgress, onError) {\r\n  const texture = new THREE.Texture();\r\n  if (\r\n    // @ts-ignore\r\n    typeof this.path === 'function' ||\r\n    // @ts-ignore\r\n    (this.path !== null && typeof this.path === 'object')\r\n  ) {\r\n    (async () => {\r\n      url = url.split('/').pop();\r\n      // @ts-ignore\r\n      const asset = await parseAssetCallback(url, this.path);\r\n      const { minFilter, image } = await loadTextureAsync({ asset });\r\n      texture.image = image;\r\n      texture.needsUpdate = true;\r\n      texture['isDataTexture'] = true; // Forces passing to `gl.texImage2D(...)` verbatim\r\n      texture.minFilter = minFilter; // Pass-through non-power-of-two\r\n\r\n      if (onLoad !== undefined) {\r\n        console.warn('loaded tex', texture);\r\n        onLoad(texture);\r\n      }\r\n    })();\r\n  }\r\n\r\n  return texture;\r\n}\r\n"]}